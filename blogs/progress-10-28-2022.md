# Project progress report on 10/28/2022

## 1. Using Arduino IR remote library for getting a raw data 

![arduino_ir_remote_library](/IR_remote_MQTT_MATLAB/images/week1/only_code_arduino.png)

We begin the IrReceiver pin with:
```c
Ir.Receiver.begin( PIN );
```
We check for received data with: 
```c
if (IrReceiver.decode()) {}
```
IrReceiver.dedode() is function from library that check Is module recieve the data from IR remote when IR reciever.
```c
if (IrReceiver.decode()) {}
```
then we start with printing the first line in serial port monitor. we want like "Code: (Hexadecimal Code) " in first line.
```c
Serial.print("Code: ");
Serial.println(IrReceiver.decodedIRData.decodedRawData);
```
After we get the Hexadecimal code in first line , we want a timestamp of IR reciever data so
```c
Ir.Receiver.printIRResultRawFormatted(&Serial,true);
Serial.write(13); //used CR/LF system
Serial.write(10);
```
### finally we will get a Hexadecimal code and timestamp in serial port like this 

![arduino_ir_remote_library2](/IR_remote_MQTT_MATLAB/images/week1/TIMESTAMP.png)

### reference: IR arduino library: [https://github.com/Arduino-IRremote/Arduino-IRremote](https://github.com/Arduino-IRremote/Arduino-IRremote)


## 2. Sending a raw data with arduino serial port to MATLAB  (testing in matlab live script)

![math_lab_with_arduino](/IR_remote_MQTT_MATLAB/images/week1/setup_matlab_arduino.png)
```Matlab
clc; clf; clear;
clear arduinoObj 
```
1. clear everything in matlab command window and clear arduino serial port for matlab

```Matlab
serialportlist("available"); %list a serial port that is available for us is COM3 .
arduinoObj = serialport("COM3",115200) 
```
2. create a arduino class obj with COM3 and 115200 rate bit per second .

```Matlab

```
![math_lab_with_arduino2](/IR_remote_MQTT_MATLAB/images/week1/arduino_with_matlab_2.png)


## 3. Getting only timestamp from rawdata . 

![math_lab_with_arduino3](/IR_remote_MQTT_MATLAB/images/week1/readtime1.png)
![math_lab_with_arduino3](/IR_remote_MQTT_MATLAB/images/week1/readtime2.png)
![timestamp_data](/IR_remote_MQTT_MATLAB/images/week1/matlab_arduino_ir_signal-1.png)

## 4. implement matlab code in live script for plotting IR pulse from timestamp .
![math_lab_with_arduino3](/IR_remote_MQTT_MATLAB/images/week1/implement_graph_v1.png)
![test](/IR_remote_MQTT_MATLAB/images/week1/matlab_arduino_ir_signal-3.jpg)
